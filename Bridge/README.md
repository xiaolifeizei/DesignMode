## 桥接模式（Bridge）

桥接模式

### 一、说明

桥接模式是结构型模式。可以让一个类在两个独立的维度变化，这两个维度都可以进行扩展。

- 设计意图：将抽象部分与实现部分分离，使它们都可以独立的变化
- 模式本质：将继承改为组合的方式来解决一个类在两个维度上的变化问题

### 二、角色

- 抽象化（Abstraction）角色：

  定义抽象类，并包含一个对实现化对象的引用。提供高层控制逻辑， 依赖于完成底层实际工作的实现对象。

- 扩展抽象化（Refined Abstraction）角色：

  抽象化角色的子类，实现父类中的业务方法，并通过组合关系调用实现化角色中的业务方法。

- 实现化接口（Implementor）角色：

  定义实现化角色的接口，供扩展抽象化角色调用

- 具体实现类（Concrete Implementor）角色：

  给出实现化角色接口的具体实现

### 四、总结

桥接模式通过的将继承改为组合的方式来解决一个类在两个维度上的变化问题（适配器模式只在一个维度实现继承），所以不会因为多维度、多层次继承导致系统类的个数急剧增加，这就让构件的抽象化角色和具体化角色之间增加了更多的灵活性。

使用场景：

1) 如果一个系统需要在构件的抽象化角色和具体化角色之间增加更多的灵活性，避免在两个层次之间建立静态的继承联系，通过桥接模式可以使它们在抽象层建立一个关联关系。 
2) 对于那些不希望使用继承或因为多层次继承导致系统类的个数急剧增加的系统，桥接模式尤为适用。 
3) 一个类存在两个独立变化的维度，且这两个维度都需要进行扩展

**注意事项：**对于两个独立变化的维度，使用桥接模式再适合不过了。

如何使用：

1) 明确类中独立的维度。独立的概念可能是：抽象/平台，域/基础设施，前端/后端或接口/实现。
   了解客户端的业务需求，并在抽象基类中定义它们。
2) 确定在所有平台上都可执行的业务。并在通用实现接口中声明抽象部分所需的业务。
   为你域内的所有平台创建实现类，但需确保它们遵循实现部分的接口。
3) 在抽象类中添加指向实现类型的引用成员变量。抽象部分会将大部分工作委派给该成员变量所指向的实现对象。
4) 如果你的高层逻辑有多个变体，则可通过扩展抽象基类为个变体创建一个精确抽象。
5) 客户端代码必须将实现对象传递给抽象部分的构造函数才能使其能够相互关联。此后，客户端只需与抽象对象进行交互，无需和实现对象打交道。