## 适配器模式（Adapter）

适配器模式

### 一、说明

适配器模式是一种对象结构型模式。将一个类的接口转换成客户希望的另外一个接口。Adapter模式使得原本由于接口不兼容而不能一起工作的那些类可以在一起工作。

适配器模式有分三类：

- 类适配器模式（class adapter pattern）

  类适配器模式在编译时实现target（目标）接口。

  这种适配器模式使用了多个实现了接口或已经存在的接口的多态。

  比较典型的就是：target接口被创建为一个纯粹的接口，如Java不支持多继承的语言。

- 对象适配器模式（object adapter pattern）

  对象适配器模式在运行时实现target（目标）接口。

  在这种适配器模式中，适配器包装了一个类实例。

  在这种情况下，适配器调用包装对象实例的方法。

- 缺省适配器模式（default adapter pattern），也叫默认适配器模式、接口适配器模式

  适用于一个接口不想使用所有的方法的情况。

  当不需要全部实现接口提供的方法时，可以设计一个适配器抽象类实现接口，并为接口中的每个方法提供默认方法（空方法），抽象类的子类就可以有选择的覆盖父类的某些方法实现需求。

  在java8后，接口中可以有default方法，就不需要这种缺省适配器模式了。接口中方法都设置为default，实现为空就可以了

### 二、角色

- 目标接口（Target）角色：

  客户所期待的接口。目标可以是具体的或抽象的类，也可以是接口。

- 需要适配的类（Adaptee）：

  需要适配的类或适配者类。

- 适配器（Adapter）：

  通过包装一个需要适配的对象，把原接口转换成目标接口。

### 四、总结

三种适配器模式，本质上是现有的不兼容的接口转换为需要的接口。

类适配器模式，以继承现有类的方式转换。

对象适配器模式，以聚合对象实例的方式转换。

接口适配器模式，以实现接口的方式转换。

**适配器模式是在现有的类和系统都不易修改的情况下使用，在系统设计之初慎用适配器模式。**

使用场景：

1) 系统需要使用现有的类，而此类的接口不符合系统的需要
2) 想要建立可以重复使用的类，与一些彼此之间没有太大关联的、包括未来可能使用的类一起工作，这些类不一定有一致的接口。 
3) 通过接口转换，将一个类插入另一个类系中。